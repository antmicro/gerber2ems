[build-system]
requires = ["setuptools >= 65", "wheel >= 0.38", "setuptools_scm>=8"]
build-backend = "setuptools.build_meta"

[project]
name = "gerber2ems"
authors = [
    { name = "Antmicro" }
]
description = "Perform EM simulations based on standard PCB production files (gerbers)"

# The version is automatically generated by setuptools-scm
# to include the commit hash. To change the version of the package,
# create a git tag for a commit available on the main branch instead!
# For example:
#   git tag vX.Y.Z <commit-hash>
# The tag must then be pushed to the corresponding remote:
#   git push origin tag vX.Y.Z
# The resulting version will then be: X.Y.Z+HASH
# Do not tag commits inside branches! Tags do not follow commits,
# and modifying any commits in a development branch will not update
# the tag. Only create tags for commits that won't be modified
# anymore (i.e, main branch).
dynamic = ["version"]

requires-python = ">=3.8"
license = {file = "LICENSE"}
dependencies = ["numpy>=1.24.0,<2.5.0", "matplotlib~=3.6.0", "coloredlogs==15.0.1", "nanomesh==0.9.1", "scikit-rf==1.9.0", "Pillow==12.1.0", "scipy==1.17.0", "pyserde==0.28.0"]
scripts = {gerber2ems = "gerber2ems.main:main", ems2paraview = "ems2paraview.main:main", ems2png = "ems2png.main:app"}

[tool.setuptools.package-data]
gerber2ems = ["*.mplstyle"]

[project.optional-dependencies]
dev = ["mypy==1.19.1", "ruff==0.14.14", "black==25.12.0"]

[tool.ruff]
lint.select = ["E", "F", "N", "B", "D", "A", "RET"]
line-length = 120
target-version = "py38"

[tool.black]
line-length = 120

[tool.mypy]
ignore_missing_imports = true
disallow_untyped_defs = true

